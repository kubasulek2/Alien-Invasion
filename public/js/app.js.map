{"version":3,"sources":["app.js"],"names":["$","soundtrack","Audio","game","newGame","addEventListener","this","currentTime","play","shot","disabled","subject","mouseX","mouseY","xPos","yPos","clear","drawCursor","css","left","top","animateCursor","requestAnimation","dateNow","start","stop","window","requestAnimationFrame","intervalFunc","delay","cursor","handleClick","addClass","setTimeout","removeClass","startNewGame","setInterval","level","drawEnemy","flag","console","enemyLocation","index","el","Math","random","has","length","log","boxes","each","append","alien","counter","countDown","levelUp","animateStart","text","id","Game","clearInterval","e","pageY","offset","removeAttr","on","fadeOut","remove"],"mappings":"AAAAA,EAAG,KACC,MAAMC,EAAa,IAAIC,MAAM,+BACvBC,EAAOH,EAAE,SACf,IAAII,EAEJH,EAAWI,iBAAiB,QAAS,WACjCC,KAAKC,YAAc,EACnBD,KAAKE,SACN,GAICC,MAAAA,EAAUP,CACVQ,KAAAA,IAAUR,MAFC,qBAGXS,UAASX,EACTY,QAJWZ,EAAA,WAKXa,OAAQ,EACRC,OANW,EAOXC,KAAM,EACNC,KAAAA,EACAC,MAAAA,GACIA,WAAKH,WACLR,KAAKS,MAAST,KAAKO,OAASP,KAAKS,KAAnB,GACdT,KAAKK,MAAQO,KAAKC,OAAMb,KAAKQ,KAAMM,GAZ5Bd,KAAAK,QAAAO,IAAA,CAAAC,KAAAb,KAAAQ,KAAAM,IAAAd,KAAAS,QAgBPM,cACIC,SAAAA,GADJ,IAKQC,EAHJC,EAAMD,KAAAA,IACNE,EAHJC,OAAAC,sBAIIC,EAAAA,IAEIH,EAAMH,KANdC,IAAAC,EAAAK,IAAAL,GAAAK,EAAAC,EAAAb,cAQAK,GAAAA,EAAAM,IACwC,OAARH,EAAAG,GAAhCtB,KAAAU,MAAA,WAAAS,EAAA,IAEJM,YAAa,WACJzB,KAAKI,WACNJ,KAAKG,KAAKD,OACVF,KAAKK,QAAQqB,SAAS,WAK1BN,KAAAA,UAAOO,EACHP,OAAAO,WAAA,KACA3B,KAAKK,UAAQuB,EACf5B,KAHFK,QAAAuB,YAAA,WAIH,QA6BD,SAAKC,IACDT,KAAAA,MAAOU,EAAAA,QAGV9B,KAJD+B,MAAA,EAKA/B,KAAKgC,YAAY,GACbhC,KAAA6B,aAAc,WACdT,OAAIa,YAAJ,SAEsDjC,KAAAgC,UAAA,WACtDE,IAAAA,EAAYD,EAAAA,kEAHRA,GAAO,EAKXE,EAAiBC,KAAMC,KAAK,GAAZC,KAAYC,UACcC,KAArCJ,KAAAA,MAAUD,KAAAA,UAAgBM,SAI9BP,QALDQ,IAAAT,GAAAjC,KAAK2C,MAAMC,KAAK,CAACR,EAAMC,KAQvBJ,IAAaD,EAAb,GAAA,IAAAtC,EAAA2C,GAAAG,IAAA,UAAAC,SAfJ/C,EAAA2C,GAAAQ,OAAAC,GAAAb,GAAA,KAsBIC,QAAIa,IAAAA,GAEJC,GAAAA,KAAUtB,cAEV1B,KAAAiD,QAAS7B,aAGLpB,KAAAkD,aAAGH,WACCC,MAAAA,EAAUG,EAAAA,cACV,IAAAJ,EAAGA,EAECC,EAAAA,SAAAA,kBAEH,IAAAI,EAAAhC,OAAAU,YAAA,KACJiB,IACHC,EAXFG,KAAAJ,GANJA,EAAA,IAmBHC,EAAAG,KAAA,SARkBJ,GAAS,IAYbC,EAAaG,KAAA,KACVE,EAAdzB,YAAA,kBACAR,OAAAkC,cAAAF,MARM,MAnEV5B,EAAAT,cAAA,GAIIS,EAAAA,GAAAA,YAAgB+B,SAAU1D,GAC1B2B,EAAOjB,OAASgD,EAAEC,MAAQ3D,EAAK4D,SAAS3C,KAF5CU,EAAAjB,OAAAgD,EAAAC,MAAA3D,EAAA4D,SAAA3C,MAKIU,EAAAA,GAAAA,aAAA,WADJA,EAAAnB,QAAAO,IAAA,UAAA,WAKIY,EAAAA,GAAAA,aAAekC,WADnBlC,EAAAnB,QAAAqD,WAAA,WAIIlC,EAAAA,GAAAA,QAAOC,KADXD,EAAAC,gBAsEK/B,EAAA,UAFmBiE,GAAA,QAAA,MADxB7D,EAAA,IAAAuD,GALYrB,cAKZtC,EAAE,UAAUiE,GAAG,QAAQ,SAAqBJ,GACpC/B,EAAOpB,UAASV,EAAEM,MAAM4D,QAAQ,IAAI,KACpC5D,KAAK6D","file":"app.js","sourcesContent":["$( () => {\n    const soundtrack = new Audio('../music/Quirky-Action2.mp3');\n    const game = $('#game');\n    let newGame;\n\n    soundtrack.addEventListener('ended', function() {\n        this.currentTime = 0;\n        this.play();\n    }, false);\n\n\n    const cursor = {\n        shot: new Audio('../music/shot.mp3'),\n        disabled: false,\n        subject: $('#cursor'),\n        mouseX: 0,\n        mouseY: 0,\n        xPos: 0,\n        yPos: 0,\n        clear: '',\n        drawCursor: function(){\n            this.xPos += (this.mouseX - this.xPos-25);\n            this.yPos += (this.mouseY - this.yPos-25);\n            this.subject.css({left: this.xPos, top:this.yPos});\n\n        },\n        animateCursor: function(delay) {\n            let dateNow = Date.now,\n                requestAnimation=window.requestAnimationFrame,\n                start=dateNow(),\n                stop,\n                intervalFunc= ()=> {\n                    dateNow()-start<delay||(start+=delay,  cursor.drawCursor());\n                    stop||requestAnimation(intervalFunc)\n                };\n            requestAnimation(intervalFunc);\n            return this.clear = function(){ stop=1 };\n        },\n        handleClick: function(){\n            if (!this.disabled){\n                this.shot.play();\n                this.subject.addClass(\"reload\");\n            }\n\n\n            this.disabled = true;\n            window.setTimeout(()=> {\n                this.disabled = false;\n                this.subject.removeClass(\"reload\")\n            },1500)\n        }\n\n    };\n    cursor.animateCursor(1);\n    //cursor.clear();  zeby zatrzymac animacje\n\n\n    game.on('mousemove', function(e){\n        cursor.mouseX = e.pageX - game.offset().left;\n        cursor.mouseY = e.pageY - game.offset().top;\n    });\n    game.on('mouseenter', function () {\n        cursor.subject.css(\"display\",\"block\");\n    });\n\n    game.on('mouseleave',function () {\n        cursor.subject.removeAttr('style')\n    });\n    game.on('click', ()=>{\n        cursor.handleClick();\n\n    });\n\n\n\n    function Game() {\n        this.boxes = $('.box');\n        this.level = 1;\n        this.enemiesData = [];\n        this.startNewGame = function () {\n            window.setInterval(()=>{\n\n            })\n        };\n        this.drawEnemy = function () {\n            let alien = $(\"<div class='alien'><img src=\\\"images/alien.png\\\" alt=\\\"\\\"></div>\");\n            let flag = false;\n            let enemyLocation = Math.ceil(Math.random()*15);\n            if( this.boxes.find(\".alien\").length === 15){ return }\n            console.log(flag);\n\n            this.boxes.each((index,el)=>{\n                (index === enemyLocation - 1 && $(el).has('.alien').length === 0)\n                && ($(el).append(alien), flag = true)\n\n\n            });\n            console.log(flag);\n\n            flag || this.drawEnemy()\n        };\n        this.levelUp = function () {\n\n        };\n        this.animateStart = function () {\n            const countDown = $('#countDown');\n            let counter = 3;\n\n            countDown.addClass(\"countAnimation\");\n\n            let id = window.setInterval(()=>{\n                counter--;\n                countDown.text(counter);\n                if(counter<0){\n                    countDown.text(\"Start\");\n                    if(counter<-1){\n                        countDown.text(\"3\");\n                        countDown.removeClass(\"countAnimation\");\n                        window.clearInterval(id);\n                    }\n                }\n            },500)\n        }\n    }\n\n\n\n    $('#start').on(\"click\", ()=>{\n        newGame = new Game();\n        //newGame.animateStart();\n        newGame.drawEnemy();\n        //$('.alien').addClass(\"animation1\").addClass(\"level1\");\n\n        //soundtrack.play()\n    });\n    $('.alien').on('click',function detectAlien(e) {\n        if(!cursor.disabled)$(this).fadeOut(400,()=>{\n            this.remove();\n        });\n    });\n\n});"]}