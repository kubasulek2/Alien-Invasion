{"version":3,"sources":["app.js"],"names":["$","newGame","this","enemiesData","startNewGame","level","paused","game","drawEnemy","removeAlien","animateStart","setTimeout","id","window","setInterval","e","alien","currentTarget","cursor","disabled","fadeOut","soundtrack","remove","currentTime","filter","el","element","parentElement","song","Audio","flag","boxes","enemyLocation","Math","floor","random","each","index","append","length","has","addClass","push","location","levelUp","ceil","countDown","counter","text","clearInterval","removeClass","shot","subject","mouseX","mouseY","xPos","yPos","clear","drawCursor","css","left","top","animateCursor","dateNow","now","intervalFunc","requestAnimation","start","requestAnimationFrame","stop","handleClick","play","on","pageX","offset","pageY","removeAttr"],"mappings":"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","file":"app.js","sourcesContent":["$( () => {\n    const newGame = new Game();\n\n    const cursor = {\n        shot: new Audio('../music/shot.mp3'),\n        disabled: false,\n        subject: $('#cursor'),\n        mouseX: 0,\n        mouseY: 0,\n        xPos: 0,\n        yPos: 0,\n        clear: '',\n        drawCursor: function(){\n            this.xPos += (this.mouseX - this.xPos-25);\n            this.yPos += (this.mouseY - this.yPos-25);\n            this.subject.css({left: this.xPos, top:this.yPos});\n\n        },\n        animateCursor: function(delay) {\n            let dateNow = Date.now,\n                requestAnimation=window.requestAnimationFrame,\n                start=dateNow(),\n                stop,\n                intervalFunc= ()=> {\n                    dateNow()-start<delay||(start+=delay,  cursor.drawCursor());\n                    stop||requestAnimation(intervalFunc)\n                };\n            requestAnimation(intervalFunc);\n            return this.clear = function(){ stop=1 };\n        },\n        handleClick: function(){\n            if (!this.disabled){\n                this.shot.play();\n                this.subject.addClass(\"reload\");\n            }\n\n\n            this.disabled = true;\n            window.setTimeout(()=> {\n                this.disabled = false;\n                this.subject.removeClass(\"reload\")\n            },1500)\n        }\n\n    };\n    cursor.animateCursor(1);\n    //cursor.clear();  zeby zatrzymac animacje\n\n\n    newGame.game.on('mousemove', function(e){\n        cursor.mouseX = e.pageX - newGame.game.offset().left;\n        cursor.mouseY = e.pageY - newGame.game.offset().top;\n    });\n    newGame.game.on('mouseenter', function () {\n        cursor.subject.css(\"display\",\"block\");\n    });\n\n    newGame.game.on('mouseleave',function () {\n        cursor.subject.removeAttr('style')\n    });\n    newGame.game.on('click', ()=>{\n        cursor.handleClick();\n\n    });\n\n\n\n    function Game() {\n        this.boxes = $('.box');\n        this.game = $('#game');\n        this.level = 1;\n        this.enemiesData = [];\n        this.startNewGame = function () {\n            let paused = false;\n            //this.soundtrack();\n            this.game.on('click','.alien', this.removeAlien);\n            this.animateStart();\n            setTimeout(()=>{\n                this.drawEnemy();\n\n            },2500);\n\n            const id = window.setInterval(()=>{\n\n            })\n        };\n        this.removeAlien =  (e)=> {\n            let alien = $(e.currentTarget);\n\n            if (!cursor.disabled){\n                $(e.currentTarget).fadeOut(400,function () {\n                    alien.remove()\n                });\n\n                this.enemiesData = this.enemiesData.filter((el)=>el.element !== e.currentTarget.parentElement);\n            }\n        };\n        this.soundtrack = function () {\n            const song = new Audio(\"../music/Quirky-Action2.mp3\");\n            song.addEventListener('ended', function() {\n                this.currentTime = 0;\n                this.play();\n            }, false);\n            song.play()\n        };\n        this.drawEnemy = function () {\n            let alien = $(\"<div class='alien'><img src=\\\"images/alien.png\\\" alt=\\\"\\\"></div>\");\n            let flag = false;\n            let enemyLocation = Math.floor(Math.random()*15);\n            alien.find(\"img\").attr(\"draggable\", 'false');\n\n            if( this.boxes.find(\".alien\").length === 15){ return }\n\n            this.boxes.each((index,el)=>{\n                if(index === enemyLocation && $(el).has('.alien').length === 0){\n                    $(el).append(alien);\n                    flag = true;\n                    this.enemiesData.push({location:index, element:el})\n                }\n            });\n            alien.addClass(`animation${Math.ceil(Math.random()*3)}`).addClass(`level${this.level}`);\n\n            flag || this.drawEnemy()\n        };\n        this.levelUp = function () {\n\n        };\n        this.animateStart = function () {\n            const countDown = $('#countDown');\n            let counter = 3;\n\n            countDown.addClass(\"countAnimation\");\n\n            let id = window.setInterval(()=>{\n                counter--;\n                countDown.text(counter);\n                if(counter<0){\n                    countDown.text(\"Start\");\n                    if(counter<-1){\n                        countDown.text(\"3\");\n                        countDown.removeClass(\"countAnimation\");\n                        window.clearInterval(id);\n                    }\n                }\n            },500)\n        }\n    }\n\n\n\n    $('#start').on(\"click\", ()=>{\n        newGame.startNewGame()\n        //newGame.animateStart();\n        //newGame.soundtrack()\n\n\n    });\n\n});"]}