{"version":3,"sources":["app.js"],"names":["$","newGame","this","points","level","enemiesData","timeElapsed","startNewGame","setTimeout","removeAlien","animateStart","id","drawEnemy","window","setInterval","e","alien","currentTarget","cursor","fadeOut","remove","song","filter","el","element","parentElement","addEventListener","currentTime","soundtrack","Audio","flag","enemyLocation","play","index","Math","random","find","length","boxes","each","has","addClass","append","push","location","ceil","counter","countDown","removeClass","text","clearInterval","shot","disabled","subject","mouseX","mouseY","xPos","yPos","clear","drawCursor","css","left","top","animateCursor","dateNow","now","intervalFunc","requestAnimation","start","requestAnimationFrame","stop","handleClick","game","on","pageX","offset","pageY","removeAttr"],"mappings":"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","file":"app.js","sourcesContent":["$( () => {\n    const newGame = new Game();\n\n    const cursor = {\n        shot: new Audio('../music/shot.mp3'),\n        disabled: false,\n        subject: $('#cursor'),\n        mouseX: 0,\n        mouseY: 0,\n        xPos: 0,\n        yPos: 0,\n        clear: '',\n        drawCursor: function(){\n            this.xPos += (this.mouseX - this.xPos-25);\n            this.yPos += (this.mouseY - this.yPos-25);\n            this.subject.css({left: this.xPos, top:this.yPos});\n\n        },\n        animateCursor: function(delay) {\n            let dateNow = Date.now,\n                requestAnimation=window.requestAnimationFrame,\n                start=dateNow(),\n                stop,\n                intervalFunc= ()=> {\n                    dateNow()-start<delay||(start+=delay,  cursor.drawCursor());\n                    stop||requestAnimation(intervalFunc)\n                };\n            requestAnimation(intervalFunc);\n            return this.clear = function(){ stop=1 };\n        },\n        handleClick: function(){\n            if (!this.disabled){\n                this.shot.play();\n                this.subject.addClass(\"reload\");\n            }\n\n\n            this.disabled = true;\n            window.setTimeout(()=> {\n                this.disabled = false;\n                this.subject.removeClass(\"reload\")\n            },1500)\n        }\n\n    };\n    cursor.animateCursor(1);\n    //cursor.clear();  zeby zatrzymac animacje\n\n\n    newGame.game.on('mousemove', function(e){\n        cursor.mouseX = e.pageX - newGame.game.offset().left;\n        cursor.mouseY = e.pageY - newGame.game.offset().top;\n    });\n    newGame.game.on('mouseenter', function () {\n        cursor.subject.css(\"display\",\"block\");\n    });\n\n    newGame.game.on('mouseleave',function () {\n        cursor.subject.removeAttr('style')\n    });\n    newGame.game.on('click', ()=>{\n        cursor.handleClick();\n\n    });\n\n\n\n    function Game() {\n        this.boxes = $('.box');\n        this.game = $('#game');\n        this.score =$('#score');\n        this.points = 0;\n        this.level = 1;\n        this.enemiesData = [];\n        this.timeElapsed= 0;\n        this.startNewGame = function () {\n            let paused = false;\n            //this.soundtrack();\n            this.game.on('click','.alien', this.removeAlien);\n            this.animateStart();\n\n            setTimeout(()=>{\n                this.drawEnemy();\n\n                const id = window.setInterval(()=>{\n                    this.timeElapsed +=1;\n                    !!(this.timeElapsed%6) || this.drawEnemy();\n                },1000)\n\n            },2500);\n\n\n        };\n        this.removeAlien =  (e)=> {\n            let alien = $(e.currentTarget);\n\n            if (!cursor.disabled){\n                $(e.currentTarget).fadeOut(400,function () {\n                    alien.remove()\n                });\n\n                this.enemiesData = this.enemiesData.filter((el)=>el.element !== e.currentTarget.parentElement);\n                this.points += 1000;\n                this.score.text(this.points)\n\n            }\n        };\n        this.soundtrack = function () {\n            const song = new Audio(\"../music/Quirky-Action2.mp3\");\n            song.addEventListener('ended', function() {\n                this.currentTime = 0;\n                this.play();\n            }, false);\n            song.play()\n        };\n        this.drawEnemy = function () {\n            let alien = $(\"<div class='alien'><img src=\\\"images/alien.png\\\" alt=\\\"\\\"></div>\");\n            let flag = false;\n            let enemyLocation = Math.floor(Math.random()*15);\n            alien.find(\"img\").attr(\"draggable\", 'false');\n\n            if( this.boxes.find(\".alien\").length === 15){ return }\n\n            this.boxes.each((index,el)=>{\n                if(index === enemyLocation && $(el).has('.alien').length === 0){\n                    $(el).append(alien);\n                    flag = true;\n                    this.enemiesData.push({location:index, element:el})\n                }\n            });\n            alien.addClass(`animation${Math.ceil(Math.random()*3)}`).addClass(`level${this.level}`);\n\n            flag || this.drawEnemy()\n        };\n        this.levelUp = function () {\n\n        };\n        this.animateStart = function () {\n            const countDown = $('#countDown');\n            let counter = 3;\n\n            countDown.addClass(\"countAnimation\");\n\n            let id = window.setInterval(()=>{\n                counter--;\n                countDown.text(counter);\n                if(counter<0){\n                    countDown.text(\"Start\");\n                    if(counter<-1){\n                        countDown.text(\"3\");\n                        countDown.removeClass(\"countAnimation\");\n                        window.clearInterval(id);\n                    }\n                }\n            },500)\n        }\n    }\n\n\n\n    $('#start').on(\"click\", ()=>{\n        newGame.startNewGame()\n        //newGame.animateStart();\n        //newGame.soundtrack()\n\n\n    });\n\n});"]}